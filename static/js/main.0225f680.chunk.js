(this.webpackJsonpreact_table=this.webpackJsonpreact_table||[]).push([[0],{16:function(e,t,n){e.exports=n(34)},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),u=n.n(o),c=n(2),l=n(5),m=n(3),i=n(1),s=n(15),d="SET::PARAMS",b="SET::TABLE",f="SET::ROWS",p="SET::CELLS",v="SHOW::BUTTONS",O="INCREMENT",y="ADD::ROW",j="REMOVE::ROW",g=Object(l.b)({params:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=d;switch(t.type){case n:return t.payload;default:return e}},table:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=b,a=y,r=j;switch(t.type){case n:return t.payload;case a:return[].concat(Object(s.a)(e),[t.payload.table]);case r:return e.filter((function(e){return e!==t.payload.lastRowKey}));default:return e}},rows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=f,a=y,r=j;switch(t.type){case n:return t.payload;case a:return Object(i.a)(Object(i.a)({},e),t.payload.rows);case r:return delete e[t.payload.lastRowKey],e;default:return e}},cells:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=p,a=O,r=y,o=j;switch(t.type){case n:return t.payload;case r:return Object(i.a)(Object(i.a)({},e),t.payload.cells);case o:var u=t.payload.columnsAmount,c=Object.keys(e).slice(0,-u),l=Object.values(e).filter((function(e,t){return e.id===c[t]})),s={};return l.map((function(e){return s[e.id]=Object(i.a)({},e)})),s;case a:return Object(i.a)(Object(i.a)({},e),{},Object(m.a)({},t.payload,Object(i.a)(Object(i.a)({},e[t.payload]),{},{amount:e[t.payload].amount+1})));default:return e}},buttons:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=v;switch(t.type){case n:return t.payload;default:return e}}}),E=Object(l.c)(g),h=n(4),w=n(36),A=function(e,t){var n=new Array(+e).fill(0).map((function(e){return Object(w.a)()})),a=new Array(+e*+t).fill(0).map((function(e){return Object(w.a)()})),r=n.reduce((function(e,n,r){return e[n]=a.slice(+t*r,+t*r+ +t),e}),{});return{table:n,rows:r,cells:a.reduce((function(e,t){return e[t]={id:t,amount:Math.floor(999*Math.random())},e}),{})}},S=(n(27),function(){var e=Object(c.c)(),t=Object(a.useState)({rowsAmount:"",columnsAmount:"",lightsAmount:""}),n=Object(h.a)(t,2),o=n[0],u=n[1],l=Object(a.useState)({rowsAmount:!1,columnsAmount:!1,lightsAmount:!1}),s=Object(h.a)(l,2),O=s[0],y=s[1],j=function(t){t.preventDefault();var n=o.rowsAmount,a=o.columnsAmount,r=o.lightsAmount;if(Number(n)>0&&Number(a)>0&&Number(r)>0){var l=A(n,a),m=l.table,i=l.rows,s=l.cells;Object(c.b)((function(){e({payload:{rowsAmount:n,columnsAmount:a,lightsAmount:r},type:d}),e(function(e){return{payload:e,type:b}}(m)),e(function(e){return{payload:e,type:f}}(i)),e(function(e){return{payload:e,type:p}}(s)),e(function(e){return{payload:e,type:v}}(!0))})),u({rowsAmount:"",columnsAmount:"",lightsAmount:""})}y({rowsAmount:!(n&&!(Number(n)<=0)),columnsAmount:!(a&&!(Number(a)<=0)),lightsAmount:!(r&&!(Number(r)<=0))})},g=function(e){var t=e.currentTarget,n=t.name,a=t.value;y(Object(i.a)(Object(i.a)({},O),{},Object(m.a)({},n,!1))),u(Object(i.a)(Object(i.a)({},o),{},Object(m.a)({},n,a)))};return r.a.createElement("form",{id:"form",className:"form",onSubmit:function(e){return j(e)}},O.rowsAmount&&r.a.createElement("div",null,"Please add correct rows value"),r.a.createElement("input",{type:"number",name:"rowsAmount",className:"form-control ".concat(O.rowsAmount&&"error"),placeholder:"Rows...",onChange:function(e){return g(e)},value:o.rowsAmount}),O.columnsAmount&&r.a.createElement("div",null,"Please add correct columns value"),r.a.createElement("input",{type:"number",name:"columnsAmount",className:"form-control ".concat(O.columnsAmount&&"error"),placeholder:"Columns...",onChange:function(e){return g(e)},value:o.columnsAmount}),O.lightsAmount&&r.a.createElement("div",null,"Please add correct highlight value"),r.a.createElement("input",{type:"number",name:"lightsAmount",className:"form-control ".concat(O.lightsAmount&&"error"),placeholder:"Highlight cells...",onChange:function(e){return g(e)},value:o.lightsAmount}),r.a.createElement("button",{id:"button-generate",type:"submit",className:"btn btn-dark"},"Generate"))}),M=(n(28),r.a.memo((function(e){var t=e.id,n=e.amount,a=e.styleString,o=e.onMouseEnterHandler,u=e.onMouseLeaveHandler,c=e.onClickIncrement,l={background:"".concat(a)};return r.a.createElement("td",{id:t,onClick:c,onMouseEnter:o,onMouseLeave:u,style:l},n)}),(function(e,t){var n=e.id,a=e.amount,r=e.styleString;return t.styleString===r&&(t.amount===a&&t.id===n)}))),N=r.a.memo((function(e){var t=e.rowSum,n=e.onMouseEnterPercent,a=e.onMouseLeavePercent;return r.a.createElement("td",{onMouseEnter:n,onMouseLeave:a},"Sum: ",t)}),(function(e,t){var n=e.rowSum;return t.rowSum===n})),k=r.a.memo((function(e){var t=e.id,n=e.row,o=e.cells,u=e.rowSum,c=e.lightList,l=e.onMouseEnterHandler,m=e.onMouseLeaveHandler,i=e.onClickIncrement,s=Object(a.useState)(!1),d=Object(h.a)(s,2),b=d[0],f=d[1];return r.a.createElement("tr",{id:t},n.map((function(e){var t=o[e].amount,n=(o[e].amount/u*100).toFixed(2),a="";return c[e]&&(a+="#6c757d"),b&&(a+="linear-gradient(90deg, rgba(220,53,69,1) ".concat(n,"%, rgba(108,117,125,1) ").concat(n,"%)")),r.a.createElement(M,{key:e,id:e,amount:b?n:t,styleString:a,onMouseEnterHandler:l,onMouseLeaveHandler:m,onClickIncrement:i})})),r.a.createElement(N,{rowSum:u,onMouseEnterPercent:function(){f(!0)},onMouseLeavePercent:function(){f(!1)}}))}),(function(e,t){var n=e.row,a=e.cells,r=e.lightList;return!n.some((function(e){return t.cells[e].amount!==a[e].amount||t.lightList[e]!==r[e]}))})),L=n(12),R=function(e){return e.rows},C=function(e){return e.cells},T=function(e){return e.table},H=function(e){return e.params.columnsAmount},P=function(e){return e.params.lightsAmount},I=function(e){return e.buttons},D=Object(L.a)([R,C],(function(e,t){return Object.values(e).map((function(e){return e.map((function(e){return t[e].amount})).reduce((function(e,t){return e+t}),0)}))})),F=Object(L.a)([R,C,H],(function(e,t,n){var a=Object.values(e).map((function(e){return e.map((function(e){return t[e].amount}))}));return a.reduce((function(e,t){return t.map((function(t,n){return e[n]+=t}))}),new Array(+n).fill(0)).map((function(e){return Math.floor(e/a.length)}))})),W=r.a.memo((function(){var e=Object(c.d)(F);return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,e.map((function(e,t){return r.a.createElement("td",{key:t},"Average sum: ",e)}))))})),B=function(e,t,n){return Object.values(t).map((function(n){return Object(i.a)(Object(i.a)({},n),{},{difference:Math.abs(n.amount-t[e].amount)})})).sort((function(e,t){return e.difference-t.difference})).slice(0,+n).map((function(e){return e.id})).reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(m.a)({},t,!0))}),{})},K=(n(29),r.a.memo((function(){var e=Object(a.useState)({}),t=Object(h.a)(e,2),n=t[0],o=t[1],u=Object(c.c)(),l=Object(c.d)(T),m=Object(c.d)(P),i=Object(c.d)(R),s=Object(c.d)(C),d=Object(c.d)(D),b=function(e){var t=e.currentTarget.id,n=B(t,s,m);o(n)},f=function(){o({})},p=function(e){var t=e.currentTarget.id;u({payload:t,type:O});var n=B(t,s,m);o(n)};return r.a.createElement(r.a.Fragment,null,l.length>0&&r.a.createElement("table",{className:"table table-dark"},r.a.createElement("tbody",null,l.map((function(e,t){return r.a.createElement(k,{key:e,id:e,rowSum:d[t],row:i[e],cells:s,lightList:n,onMouseEnterHandler:b,onMouseLeaveHandler:f,onClickIncrement:p})})),r.a.createElement(W,null))))}))),x=function(e){var t=e.deleteRow;return r.a.createElement("button",{id:"button-delete",type:"button",className:"btn btn-dark",onClick:t},"Delete row -")},J=function(e){var t=e.addRow;return r.a.createElement("button",{id:"button-add",type:"button",className:"btn btn-dark",onClick:t},"Add row +")},_=(n(30),function(){var e=Object(c.c)(),t=Object(c.d)(H),n=Object(c.d)(I),a=Object(c.d)(T);return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement("div",{className:"buttons"},r.a.createElement(x,{deleteRow:function(){var n=a[a.length-1];e({payload:{lastRowKey:n,columnsAmount:t},type:j})}}),r.a.createElement(J,{addRow:function(){var n=A(1,t),a=n.table,r=n.rows,o=n.cells;e({payload:{table:a,rows:r,cells:o},type:y})}})))}),G=(n(31),function(){return r.a.createElement("div",{className:"main"},r.a.createElement(S,null),r.a.createElement(_,null),r.a.createElement(K,null))});n(32),n(33);u.a.render(r.a.createElement(c.a,{store:E},r.a.createElement(G,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.0225f680.chunk.js.map