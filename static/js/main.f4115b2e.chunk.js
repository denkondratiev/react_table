(this.webpackJsonpreact_table=this.webpackJsonpreact_table||[]).push([[0],{17:function(e,t,n){e.exports=n(35)},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),u=n.n(o),c=n(1),l=n(5),m=n(3),s=n(2),i=n(16),d="SET::PARAMS",f="SET::TABLE",b="SET::ROWS",v="SET::CELLS",p="SHOW::BUTTONS",h="INCREMENT",g="ADD::ROW",y="REMOVE::ROW";var O=Object(l.b)({params:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=d;switch(t.type){case n:return t.payload;default:return e}},table:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=f,a=g,r=y;switch(t.type){case n:return t.payload;case a:return[].concat(Object(i.a)(e),[t.payload.table]);case r:return e.filter((function(e){return e!==t.payload.lastRow}));default:return e}},rows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=b,a=g,r=y;switch(t.type){case n:return t.payload;case a:return Object(s.a)(Object(s.a)({},e),t.payload.rows);case r:return delete e[t.payload.lastRow],e;default:return e}},cells:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=v,a=h,r=g;switch(t.type){case n:return t.payload;case r:return Object(s.a)(Object(s.a)({},e),t.payload.cells);case a:return Object(s.a)(Object(s.a)({},e),{},Object(m.a)({},t.payload,Object(s.a)(Object(s.a)({},e[t.payload]),{},{amount:e[t.payload].amount+1})));default:return e}},buttons:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=p;switch(t.type){case n:return t.payload;default:return e}}}),E=Object(l.c)(O),j=n(4),w=n(37),A=function(e,t){for(var n=[],a={},r={},o=0;o<Number(e);o++){var u=Object(w.a)();n[o]=u,a[u]=[];for(var c=0;c<Number(t);c++){var l=Object(w.a)();a[u][c]=l,r[l]={id:l,amount:Math.floor(999*Math.random())}}}return{table:n,rows:a,cells:r}},S=(n(28),r.a.memo((function(){var e=Object(c.b)(),t=Object(a.useState)({rowsAmount:"",columnsAmount:"",lightsAmount:""}),n=Object(j.a)(t,2),o=n[0],u=n[1],l=Object(a.useState)({rowsAmount:!1,columnsAmount:!1,lightsAmount:!1}),i=Object(j.a)(l,2),h=i[0],g=i[1],y=function(t){t.preventDefault();var n=o.rowsAmount,a=o.columnsAmount,r=o.lightsAmount;if(Number(n)>0&&Number(a)>0&&Number(r)>0){var c=A(n,a),l=c.table,m=c.rows,s=c.cells;e({payload:{rowsAmount:n,columnsAmount:a,lightsAmount:r},type:d}),e(function(e){return{payload:e,type:f}}(l)),e(function(e){return{payload:e,type:b}}(m)),e(function(e){return{payload:e,type:v}}(s)),e(function(e){return{payload:e,type:p}}(!0)),u({rowsAmount:"",columnsAmount:"",lightsAmount:""})}var i={rowsAmount:!1,columnsAmount:!1,lightsAmount:!1};(!n||Number(n)<=0)&&(i.rowsAmount=!0),(!a||Number(a)<=0)&&(i.columnsAmount=!0),(!r||Number(r)<=0)&&(i.lightsAmount=!0),g({rowsAmount:i.rowsAmount,columnsAmount:i.columnsAmount,lightsAmount:i.lightsAmount})},O=function(e){var t=e.currentTarget,n=t.name,a=t.value;g(Object(m.a)({},n,!1)),u(Object(s.a)(Object(s.a)({},o),{},Object(m.a)({},n,a)))};return r.a.createElement("form",{className:"form",onSubmit:function(e){return y(e)}},h.rowsAmount&&r.a.createElement("div",null,"Please add correct rows value"),r.a.createElement("input",{type:"number",name:"rowsAmount",className:"form-control ".concat(h.rowsAmount&&"error"),placeholder:"Rows...",onChange:function(e){return O(e)},value:o.rowsAmount}),h.columnsAmount&&r.a.createElement("div",null,"Please add correct columns value"),r.a.createElement("input",{type:"number",name:"columnsAmount",className:"form-control ".concat(h.columnsAmount&&"error"),placeholder:"Columns...",onChange:function(e){return O(e)},value:o.columnsAmount}),h.lightsAmount&&r.a.createElement("div",null,"Please add correct highlight value"),r.a.createElement("input",{type:"number",name:"lightsAmount",className:"form-control ".concat(h.lightsAmount&&"error"),placeholder:"Highlight cells...",onChange:function(e){return O(e)},value:o.lightsAmount}),r.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Generate"))}))),M=n(9),N=(n(29),r.a.memo((function(e){var t=e.id,n=e.amount,a=e.styleString,o=e.onMouseEnterHandler,u=e.onMouseLeaveHandler,c=e.onClickIncrement,l={background:"".concat(a)};return r.a.createElement("td",{id:t,onClick:function(e){return c(e)},onMouseEnter:function(e){return o(e)},onMouseLeave:u,style:l},n)}),(function(e,t){var n=e.id,a=e.amount,r=e.styleString;return t.styleString===r&&(t.amount===a&&t.id===n)}))),k=r.a.memo((function(e){var t=e.rowSum,n=e.onMouseEnterPercent,a=e.onMouseLeavePercent;return r.a.createElement("td",{onMouseEnter:n,onMouseLeave:a},"Sum: ",t)}),(function(e,t){var n=e.rowSum;return t.rowSum===n})),L=r.a.memo((function(e){var t=e.id,n=e.row,o=e.cells,u=e.rowSum,c=e.lightList,l=e.onMouseEnterHandler,m=e.onMouseLeaveHandler,s=e.onClickIncrement,i=Object(a.useState)(!1),d=Object(j.a)(i,2),f=d[0],b=d[1];return r.a.createElement("tr",{id:t},n.map((function(e){var t=o[e].amount,n=(o[e].amount/u*100).toFixed(2),a="";return c[e]&&(a+="#6c757d"),f&&(a+="linear-gradient(90deg, rgba(220,53,69,1) ".concat(n,"%, rgba(108,117,125,1) ").concat(n,"%)")),r.a.createElement(N,{key:e,id:e,amount:f?n:t,styleString:a,onMouseEnterHandler:l,onMouseLeaveHandler:m,onClickIncrement:s})})),r.a.createElement(k,{rowSum:u,onMouseEnterPercent:function(){b(!0)},onMouseLeavePercent:function(){b(!1)}}))}),(function(e,t){var n,a=e.row,r=e.cells,o=e.lightList,u=Object(M.a)(a);try{for(u.s();!(n=u.n()).done;){var c=n.value;if(t.cells[c].amount!==r[c].amount)return!1;if(t.lightList[c]!==o[c])return!1}}catch(l){u.e(l)}finally{u.f()}return!0})),R=n(13),C=function(e){return e.rows},T=function(e){return e.cells},H=function(e){return e.table},P=function(e){return e.params.columnsAmount},I=function(e){return e.params.lightsAmount},D=function(e){return e.buttons},F=Object(R.a)([C,T],(function(e,t){return Object.values(e).map((function(e){return e.map((function(e){return t[e].amount})).reduce((function(e,t){return e+t}),0)}))})),W=Object(R.a)([C,T],(function(e,t){for(var n=Object.values(e).map((function(e){return e.map((function(e){return t[e].amount}))})),a=[],r=0;r<n.length;r++)for(var o=0;o<n[r].length;o++)a[o]=(a[o]||0)+Math.floor(n[r][o]/n.length);return a})),B=r.a.memo((function(){var e=Object(c.c)(W);return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,e.map((function(e,t){return r.a.createElement("td",{key:t},"Average sum: ",e)}))))})),x=(n(30),r.a.memo((function(){var e=Object(a.useState)({}),t=Object(j.a)(e,2),n=t[0],o=t[1],u=Object(c.b)(),l=Object(c.c)(H),m=Object(c.c)(I),i=Object(c.c)(C),d=Object(c.c)(T),f=Object(c.c)(F),b=function(e){var t=function(e,t,n){var a,r=Object.values(t).map((function(n){return Object(s.a)(Object(s.a)({},n),{},{difference:Math.abs(n.amount-t[e].amount)})})).sort((function(e,t){return e.difference-t.difference})).slice(0,Number(n)).map((function(e){return e.id})),o={},u=Object(M.a)(r);try{for(u.s();!(a=u.n()).done;){o[a.value]=!0}}catch(c){u.e(c)}finally{u.f()}return o}(e.currentTarget.id,d,m);o(t)},v=function(){o({})},p=function(e){var t=e.currentTarget.id;u({payload:t,type:h})};return r.a.createElement(r.a.Fragment,null,l.length>0&&r.a.createElement("table",{className:"table table-dark"},r.a.createElement("tbody",null,l.map((function(e,t){return r.a.createElement(L,{key:e,id:e,rowSum:f[t],row:i[e],cells:d,lightList:n,onMouseEnterHandler:b,onMouseLeaveHandler:v,onClickIncrement:p})})),r.a.createElement(B,null))))}))),J=function(e){var t=e.deleteRow;return r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:t},"Delete row -")},_=function(e){var t=e.addRow;return r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:t},"Add row +")},G=(n(31),function(){var e=Object(c.b)(),t=Object(c.c)(P),n=Object(c.c)(H),a=Object(c.c)(D);return r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("div",{className:"buttons"},r.a.createElement(J,{deleteRow:function(){var t=n[n.length-1];e({payload:{lastRow:t},type:y})}}),r.a.createElement(_,{addRow:function(){var n=A(1,t),a=n.table,r=n.rows,o=n.cells;e({payload:{table:a,rows:r,cells:o},type:g})}})))}),U=(n(32),function(){return r.a.createElement("div",{className:"main"},r.a.createElement(S,null),r.a.createElement(G,null),r.a.createElement(x,null))});n(33),n(34);u.a.render(r.a.createElement(c.a,{store:E},r.a.createElement(U,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.f4115b2e.chunk.js.map