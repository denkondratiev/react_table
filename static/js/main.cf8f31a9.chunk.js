(this.webpackJsonpreact_table=this.webpackJsonpreact_table||[]).push([[0],{19:function(e,t,n){e.exports=n(36)},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),u=n.n(o),l=n(3),c=n(6),s=n(4),m=n(2),i=n(18),d="SET::PARAMS",f="SET::TABLE",b="SET::ROWS",h="SET::CELLS",p="SHOW::BUTTONS",v="INCREMENT",w="ADD_ROW",g="REMOVE::ROW";var y=Object(c.b)({params:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=d;switch(t.type){case n:return t.payload;default:return e}},table:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=f,a=w,r=g;switch(t.type){case n:return t.payload;case a:return[].concat(Object(i.a)(e),[t.payload.table]);case r:return e.filter((function(e){return e!==t.payload.lastIndex}));default:return e}},rows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=b,a=w,r=g;switch(t.type){case n:return t.payload;case a:return Object(m.a)(Object(m.a)({},e),t.payload.rows);case r:return delete e[t.payload.lastIndex],e;default:return e}},cells:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=h,a=v,r=w;switch(t.type){case n:return t.payload;case r:return Object(m.a)(Object(m.a)({},e),t.payload.cells);case a:return Object(m.a)(Object(m.a)({},e),{},Object(s.a)({},t.payload,Object(m.a)(Object(m.a)({},e[t.payload]),{},{amount:e[t.payload].amount+1})));default:return e}},buttons:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=p;switch(t.type){case n:return t.payload;default:return e}}}),A=Object(c.c)(y,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),E=n(5),O=n(1),j=n.n(O),M=(j.a.shape({rows:j.a.number,columns:j.a.number,table:j.a.array,sumRowArray:j.a.number,lightsAmount:j.a.number}),j.a.shape({id:j.a.number,cell:j.a.number,amount:j.a.number,isLight:j.a.bool,showPercent:j.a.bool,percent:j.a.number,incrementCell:j.a.func,lightArray:j.a.array,onMouseEnterHandler:j.a.func,onMouseLeaveHandler:j.a.func}),j.a.shape({id:j.a.number,rowSum:j.a.number,onMouseEnterPercent:j.a.func,onMouseLeavePercent:j.a.func}),j.a.shape({id:j.a.number,row:j.a.array,cells:j.a.array,rowSum:j.a.number,lightArray:j.a.array,onMouseEnterHandler:j.a.func,onMouseLeaveHandler:j.a.func}),j.a.shape({averageArray:j.a.array}),j.a.shape({setParamsData:j.a.func,setTableData:j.a.func,setRowsData:j.a.func,setCellsData:j.a.func,setShowButtonsBoll:j.a.func}),j.a.shape({showButtons:j.a.bool,rows:j.a.number,columns:j.a.number,table:j.a.array}),j.a.shape({deleteRow:j.a.func}),j.a.shape({addRow:j.a.func}),n(37)),S=function(e,t){for(var n=[],a={},r={},o=0;o<e;o++){var u=Object(M.a)();n[o]=u,a[u]=[];for(var l=0;l<t;l++){var c=Object(M.a)();a[u][l]=c,r[c]={id:c,amount:Math.floor(999*Math.random())}}}return{table:n,rows:a,cells:r}},R=(n(29),Object(l.b)(null,(function(e){return{setParamsData:function(t){return e(function(e){return{payload:e,type:d}}(t))},setTableData:function(t){return e({payload:t,type:f})},setRowsData:function(t){return e({payload:t,type:b})},setCellsData:function(t){return e({payload:t,type:h})},setShowButtonsBoll:function(t){return e(function(e){return{payload:e,type:p}}(t))}}}))((function(e){var t=e.setParamsData,n=e.setTableData,o=e.setRowsData,u=e.setCellsData,l=e.setShowButtonsBoll,c=Object(a.useState)({rowsAmount:"",columnsAmount:"",lightsAmount:""}),i=Object(E.a)(c,2),d=i[0],f=i[1],b=Object(a.useState)({rowsAmount:!1,columnsAmount:!1,lightsAmount:!1}),h=Object(E.a)(b,2),p=h[0],v=h[1],w=function(e){var t=e.name,n=e.value;v(Object(s.a)({},t,!1)),f(Object(m.a)(Object(m.a)({},d),{},Object(s.a)({},t,n)))};return r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault();var a=d.rowsAmount,r=d.columnsAmount,c=d.lightsAmount;if(a>0&&r>0&&c>0){var s=S(a,r),m=s.table,i=s.rows,b=s.cells;t({rowsAmount:a,columnsAmount:r,lightsAmount:c}),n(m),o(i),u(b),l(!0),f({rowsAmount:"",columnsAmount:"",lightsAmount:""})}var h={rowsAmount:null,columnsAmount:null,lightsAmount:null};(!a||a<=0)&&(h.rowsAmount=!0),(!r||r<=0)&&(h.columnsAmount=!0),(!c||c<=0)&&(h.lightsAmount=!0),v({rowsAmount:h.rowsAmount,columnsAmount:h.columnsAmount,lightsAmount:h.lightsAmount})}(e)}},p.rowsAmount&&r.a.createElement("div",null,"Please add correct rows value"),r.a.createElement("input",{type:"number",name:"rowsAmount",className:"form-control ".concat(p.rowsAmount&&"error"),placeholder:"Rows...",onChange:function(e){return w(e.target)},value:d.rowsAmount}),p.columnsAmount&&r.a.createElement("div",null,"Please add correct columns value"),r.a.createElement("input",{type:"number",name:"columnsAmount",className:"form-control ".concat(p.columnsAmount&&"error"),placeholder:"Columns...",onChange:function(e){return w(e.target)},value:d.columnsAmount}),p.lightsAmount&&r.a.createElement("div",null,"Please add correct highlight value"),r.a.createElement("input",{type:"number",name:"lightsAmount",className:"form-control ".concat(p.lightsAmount&&"error"),placeholder:"Highlight cells...",onChange:function(e){return w(e.target)},value:d.lightsAmount}),r.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Generate"))}))),D=(n(30),Object(l.b)(null,(function(e){return{incrementCell:function(t){return e({type:v,payload:t})}}}))((function(e){var t=e.id,n=e.cell,a=e.incrementCell,o=e.lightArray,u=e.showPercent,l=e.percent,c=e.onMouseEnterHandler,s=e.onMouseLeaveHandler,m={};return o[t]&&(m={backgroundColor:"#6c757d"}),u&&(m={backgroundImage:"linear-gradient(90deg, rgba(220,53,69,1) ".concat(l,"%, rgba(108,117,125,1) ").concat(l,"%)")}),r.a.createElement("td",{id:t,onClick:function(e){return function(e){a(e)}(e.target.id)},onMouseEnter:function(e){return c(e.target.id)},onMouseLeave:s,style:m},u?"".concat(l,"%"):n.amount)}))),N=function(e){var t=e.id,n=e.rowSum,a=e.onMouseEnterPercent,o=e.onMouseLeavePercent;return r.a.createElement("td",{id:t,onMouseEnter:a,onMouseLeave:o},"Sum: ",n)},L=function(e){var t=e.id,n=e.row,o=e.cells,u=e.rowSum,l=e.lightArray,c=e.onMouseEnterHandler,s=e.onMouseLeaveHandler,m=Object(a.useState)(!1),i=Object(E.a)(m,2),d=i[0],f=i[1];return r.a.createElement("tr",{id:t},n.map((function(e){return r.a.createElement(D,{key:Object(M.a)(),id:e,cell:o[e],onMouseEnterHandler:c,onMouseLeaveHandler:s,lightArray:l,showPercent:d,percent:(o[e].amount/u*100).toFixed(2)})})),r.a.createElement(N,{rowSum:u,onMouseEnterPercent:function(){f(!0)},onMouseLeavePercent:function(){f(!1)}}))},C=n(14),P=function(e){return e.rows},T=function(e){return e.cells},_=function(e){return e.params.columnsAmount},k=function(e){return e.params.lightsAmount},H=Object(C.a)([P,T],(function(e,t){return Object.values(e).map((function(e){return e.map((function(e){return t[e].amount})).reduce((function(e,t){return e+t}),0)}))})),B=Object(C.a)([P,T],(function(e,t){for(var n=Object.values(e).map((function(e){return e.map((function(e){return t[e].amount}))})),a=[],r=0;r<n.length;r++)for(var o=0;o<n[r].length;o++)a[o]=(a[o]||0)+Math.floor(n[r][o]/n.length);return a})),I=Object(l.b)((function(e){return{averageArray:B(e)}}))((function(e){var t=e.averageArray;return r.a.createElement(r.a.Fragment,null,r.a.createElement("tr",null,t.map((function(e){return r.a.createElement("td",{key:Object(M.a)()},"Average sum: ",e)}))))})),x=n(17),F=(n(31),Object(l.b)((function(e){return{table:e.table,rows:e.rows,cells:e.cells,sumRowArray:H(e),lightsAmount:k(e)}}))((function(e){var t=e.table,n=e.rows,o=e.cells,u=e.sumRowArray,l=e.lightsAmount;console.log(t,n,o);var c=Object(a.useState)({}),s=Object(E.a)(c,2),i=s[0],d=s[1],f=function(e){var t=function(e,t,n){var a,r=Object.values(t).map((function(n){return Object(m.a)(Object(m.a)({},n),{},{difference:Math.abs(n.amount-t[e].amount)})})).sort((function(e,t){return e.difference-t.difference})).slice(0,n),o={},u=Object(x.a)(r);try{for(u.s();!(a=u.n()).done;){var l=a.value;o[l.id]=l}}catch(c){u.e(c)}finally{u.f()}return o}(e,o,l);d(t)},b=function(){d({})};return r.a.createElement(r.a.Fragment,null,t.length>0&&r.a.createElement("table",{className:"table table-dark"},r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement(L,{key:Object(M.a)(),id:e,rowSum:u[t],row:n[e],cells:o,lightArray:i,onMouseEnterHandler:f,onMouseLeaveHandler:b})})),r.a.createElement(I,null))))}))),W=function(e){var t=e.deleteRow;return r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:t},"Delete row -")},X=function(e){var t=e.addRow;return r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:t},"Add row +")},U=(n(32),Object(l.b)((function(e){return{showButtons:e.buttons,columnsAmount:_(e),table:e.table}}),(function(e){return{setNewRow:function(t,n,a){return e({type:w,payload:t})},removeRow:function(t){return e({type:g,payload:t})}}}))((function(e){var t=e.showButtons,n=e.setNewRow,a=e.removeRow,o=e.columnsAmount,u=e.table;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("div",{className:"buttons"},r.a.createElement(W,{deleteRow:function(){var e=u[u.length-1];a({lastIndex:e})}}),r.a.createElement(X,{addRow:function(){var e=S(1,o),t=e.table,a=e.rows,r=e.cells;n({table:t,rows:a,cells:r})}})))}))),V=(n(33),function(){return r.a.createElement("div",{className:"main"},r.a.createElement(R,null),r.a.createElement(U,null),r.a.createElement(F,null))});n(34),n(35);u.a.render(r.a.createElement(l.a,{store:A},r.a.createElement(V,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.cf8f31a9.chunk.js.map